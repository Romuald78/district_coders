{% load static %}

<header class="px-2">
  <div class="flex items-center justify-between py-4 px-4 mx-auto">
    <!-- Logo -->
    <div class="flex items-center mx-auto lg:mx-0">
      <a href="/" class="flex items-center">
        <img src="{% static 'images/logos/logo_district_1024.png' %}" alt="Logo District Coders" class="h-10">
      </a>
    </div>

    <!-- Hamburger button -->
    <div class="lg:hidden">
      <button id="menuToggle" class="text-white focus:outline-none">
        <i class="fas fa-bars text-2xl"></i>
      </button>
    </div>

    <!-- NAVIGATION LINKS - Desktop -->
    <nav class="hidden lg:flex absolute left-1/2 transform -translate-x-1/2 space-x-6 text-md items-center">
      <a href="/" class="hover:text-cyan-300 {% if request.path == '/' %}border-b-2 border-cyan-400 pb-1{% endif %}">Home</a>
      <a href="/about/" class="hover:text-cyan-300 {% if request.path == '/about/' %}border-b-2 border-cyan-400 pb-1{% endif %}">About us</a>
      {% if user.is_superuser %}
        <a href="{% url 'admin:index' %}" class="hover:text-lime-300">Admin</a>
      {% endif %}
    </nav>

    <!-- AUTH Buttons (desktop) -->
    <div class="hidden lg:flex items-center space-x-4">
      {% if user.is_authenticated %}
        <span class="text-sm font-mono text-cyan-500 italic">✓ Connected as
          <a href="/accounts/profile" class="text-cyan-300 hover:text-cyan-100">{{ user.get_username }}</a>
        </span>
        <button onclick="location.href='{% url 'logout' %}';"
                class="bg-[#0f1117] text-sm border border-cyan-700 rounded-2xl px-4 py-1 transition duration-300 ease-in-out hover:shadow-[0_0_15px_4px_rgba(14,116,144,1)] hover:scale-105">
          <i class="fas fa-right-from-bracket fa-sm"></i> LOG OUT
        </button>
      {% else %}
        <div class="relative group inline-block">
          <i class="fa-solid fa-circle-user text-white text-3xl cursor-pointer"></i>
          <div class="absolute right-0 mt-2 w-48 bg-[#0f1117] border border-gray-700 rounded-xl px-6 py-4 shadow-xl opacity-0 group-hover:opacity-100 invisible group-hover:visible transition duration-300 ease-in-out z-50">
            <button onclick="location.href='{% url 'login' %}';"
                    class="w-full mb-4 bg-[#0f1117] border border-indigo-700 text-white rounded-2xl px-4 py-2 text-sm hover:shadow-[0_0_15px_4px_rgba(67,56,202,1)] hover:scale-105 transition duration-300">
              <i class="fas fa-right-to-bracket fa-sm"></i> LOG IN
            </button>
            <button onclick="location.href='{% url 'signup' %}';"
                    class="w-full bg-[#0f1117] border border-teal-700 text-white rounded-2xl px-4 py-2 text-sm hover:shadow-[0_0_15px_4px_rgba(13,148,136,1)] hover:scale-105 transition duration-300">
              <i class="fas fa-user-plus fa-sm"></i> SIGN UP
            </button>
          </div>
        </div>
      {% endif %}
    </div>
  </div>

  <!-- Mobile Menu -->
  <div id="mobileMenu" class="lg:hidden hidden px-4 pb-4 space-y-4">
    <a href="/" class="block text-white text-lg hover:text-cyan-300 {% if request.path == '/' %}border-b-2 border-cyan-400 pb-1{% endif %}">Home</a>
    <a href="/about/" class="block text-white text-lg hover:text-cyan-300 {% if request.path == '/about/' %}border-b-2 border-cyan-400 pb-1{% endif %}">About us</a>

    {% if user.is_superuser %}
      <a href="{% url 'admin:index' %}" class="block text-white text-lg hover:text-lime-300">Admin</a>
    {% endif %}

    {% if user.is_authenticated %}
      <hr class="border-gray-700">
      <span class="block text-sm font-mono text-cyan-500 italic">
        ✓ Connected as
        <a href="/accounts/profile" class="text-cyan-300 hover:text-cyan-100">{{ user.get_username }}</a>
      </span>
      <button onclick="location.href='{% url 'logout' %}';"
              class="w-full bg-[#0f1117] border border-cyan-700 text-white rounded-2xl px-4 py-2 text-sm hover:shadow-[0_0_15px_4px_rgba(14,116,144,1)] hover:scale-105 transition duration-300">
        <i class="fas fa-right-from-bracket fa-sm"></i> LOG OUT
      </button>
    {% endif %}
  </div>
</header>

