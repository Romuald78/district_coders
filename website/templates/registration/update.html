{% extends "district/common/base.html" %}
{% load static %}

{% block page_header %}
  {% with page_title="User update" %}
    {{ block.super }}
  {% endwith %}
{% endblock %}

{% block page_content %}
<div class="flex items-center justify-center min-h-screen font-mono text-indigo-300">
  <div id="rain-container" class="absolute inset-0 -z-10 pointer-events-none"></div>

  <div class="relative w-full max-w-4xl bg-zinc-900 border-2 border-indigo-600 shadow-[0_0_15px_rgba(129,140,248,0.5)] rounded-3xl p-10 m-6 space-y-6">

    <h1 class="text-3xl font-extrabold text-indigo-400 uppercase tracking-widest drop-shadow-[0_0_6px_rgba(129,140,248,0.8)]">Update your profile</h1>
    <p class="text-sm text-indigo-300 drop-shadow-[0_0_3px_rgba(129,140,248,0.5)]">Make changes to your account information below.</p>

    <form method="post" enctype="multipart/form-data" class="space-y-6">
      {% csrf_token %}

      {% for field in form %}
        {% if field.name != 'email' %}
    <div>
      <label for="{{ field.id_for_label }}" class="block mb-1 text-sm font-semibold uppercase text-indigo-400 tracking-wide drop-shadow-[0_0_4px_rgba(129,140,248,0.6)]">
        {{ field.label }}
      </label>

      {% if field.name == 'icon' %}
  <div class="w-full px-3 py-2 mb-4 text-sm bg-zinc-800 text-indigo-300 placeholder-indigo-500 outline-none rounded-md border border-indigo-600 shadow-inner focus:ring-2 focus:ring-indigo-400">
    {{ field }}
  </div>

      {% elif field.field.widget.input_type == 'textarea' %}
        <textarea id="{{ field.id_for_label }}" name="{{ field.html_name }}" class="w-full resize-y rounded-md px-3 py-2 text-sm bg-zinc-800 text-indigo-300 placeholder-indigo-500 outline-none border border-indigo-600 shadow-inner focus:ring-2 focus:ring-indigo-400">{{ field.value|default_if_none:"" }}</textarea>
      {% else %}
        <input type="{{ field.field.widget.input_type }}"
               name="{{ field.html_name }}"
               id="{{ field.auto_id }}"
               class="w-full px-3 py-2 text-sm bg-zinc-800 text-indigo-300 placeholder-indigo-500 outline-none rounded-md border border-indigo-600 shadow-inner focus:ring-2 focus:ring-indigo-400"
               {% if field.value %}value="{{ field.value }}"{% endif %}>
      {% endif %}

      {% if field.errors %}
        <p class="text-sm text-red-500 mt-1 drop-shadow-[0_0_2px_rgba(255,0,0,0.8)]">
          {{ field.errors }}
        </p>
      {% endif %}
    </div>
  {% endif %}
{% endfor %}


      <button type="submit"
              class="w-full py-2 mt-4 bg-indigo-700 text-white font-extrabold rounded-md hover:bg-indigo-600 transition shadow-[0_0_12px_rgba(129,140,248,0.6)]">
        Update Information
      </button>
    </form>

  </div>
</div>
{% endblock %}
