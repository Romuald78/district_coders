{% extends "district/common/base.html" %}

{% block page_header %}
  {% with page_title="Change password" %}
    {{ block.super }}
  {% endwith %}
{% endblock %}

{% block page_content %}
<div class="flex items-center justify-center min-h-screen font-mono text-indigo-300">
  <div id="rain-container" class="absolute inset-0 -z-10 pointer-events-none"></div>

  <div class="relative w-full max-w-3xl bg-zinc-900 border-2 border-indigo-600 shadow-[0_0_15px_rgba(129,140,248,0.5)] rounded-3xl p-10 m-6 space-y-6">

    <h1 class="text-3xl font-extrabold text-indigo-400 uppercase tracking-widest drop-shadow-[0_0_6px_rgba(129,140,248,0.8)]">
      Change your email address
    </h1>
    <p class="text-sm text-indigo-300 drop-shadow-[0_0_3px_rgba(129,140,248,0.5)]">
      Please enter your new email and current password.
    </p>

    <form id="register_form" method="post" class="space-y-6">
      {% csrf_token %}

      <div>
        <label for="new_email" class="block mb-1 text-sm font-semibold uppercase text-indigo-400 tracking-wide drop-shadow-[0_0_4px_rgba(129,140,248,0.6)]">
          New Email
        </label>
        <input type="email" id="new_email" name="new_email"
               class="w-full px-3 py-2 text-sm bg-zinc-800 text-indigo-300 placeholder-indigo-500 outline-none rounded-md border border-indigo-600 shadow-inner focus:ring-2 focus:ring-indigo-400"
               placeholder="you@example.com">
      </div>

      <div>
        <label for="password" class="block mb-1 text-sm font-semibold uppercase text-indigo-400 tracking-wide drop-shadow-[0_0_4px_rgba(129,140,248,0.6)]">
          Password
        </label>
        <input type="password" id="password" name="password"
               class="w-full px-3 py-2 text-sm bg-zinc-800 text-indigo-300 placeholder-indigo-500 outline-none rounded-md border border-indigo-600 shadow-inner focus:ring-2 focus:ring-indigo-400"
               placeholder="••••••••">
      </div>

      {% if err_msg|length > 0 %}
        <p class="text-sm text-red-500 mt-2 drop-shadow-[0_0_2px_rgba(255,0,0,0.8)]">
          {{ err_msg.1 }}
        </p>
      {% endif %}

      <button type="submit"
              class="w-full py-2 mt-4 bg-indigo-700 text-white font-extrabold rounded-md hover:bg-indigo-600 transition shadow-[0_0_12px_rgba(129,140,248,0.6)]">
        Submit
      </button>
    </form>

  </div>
</div>
{% endblock %}
